# Визуальный редактор SETKA

## Описание

В проект SETKA добавлен визуальный редактор на базе **Quill.js** для удобного редактирования текста постов.

## Где используется

Визуальный редактор доступен на странице **Publisher** (`/publisher`) для создания и редактирования постов VK.

## Возможности

### Форматирование текста
- **Жирный**, *курсив*, <u>подчеркнутый</u>, ~~зачеркнутый~~ текст
- Заголовки (H1, H2, H3)
- Маркированные и нумерованные списки
- Выравнивание текста (влево, по центру, вправо)
- Цвет текста и фона
- Ссылки и изображения

### Режимы работы
1. **Визуальный режим** - редактирование с визуальным форматированием
2. **HTML режим** - редактирование исходного HTML кода

Переключение между режимами осуществляется кнопкой "HTML режим" / "Визуальный режим".

## Использование

### На странице Publisher

1. Откройте страницу `/publisher`
2. В форме "Simple Post" используйте визуальный редактор для ввода текста
3. Применяйте форматирование с помощью панели инструментов
4. Текст автоматически сохраняется в скрытое поле формы
5. При отправке поста используется только текст (без HTML), так как VK не поддерживает HTML в постах

### Программное использование

Для использования редактора на других страницах:

```html
<!-- В шаблоне -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
<script src="/static/js/editor.js"></script>

<div id="editor-container" style="height: 300px;"></div>
<textarea id="my-textarea" style="display: none;"></textarea>

<script>
    const editor = initQuillEditor('editor-container', 'my-textarea');
    
    // Получить текст
    const text = getEditorText(editor);
    
    // Получить HTML
    const html = getEditorHTML(editor);
    
    // Установить текст
    setEditorText(editor, 'Новый текст');
</script>
```

## Технические детали

- **Библиотека**: Quill.js 1.3.6
- **CDN**: https://cdn.quilljs.com/
- **Утилита**: `/static/js/editor.js`
- **Совместимость**: VK API (только текст, HTML удаляется при отправке)

## Ограничения

1. VK API не поддерживает HTML в постах, поэтому при отправке используется только текст
2. Максимальная длина поста: 4096 символов
3. Изображения в редакторе не загружаются автоматически в VK (нужна отдельная загрузка через VK API)

## Обновление

Для обновления редактора измените версию в URL:
```html
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.js"></script>
```

---

**Дата создания**: 18.12.2025  
**Версия**: 1.0

