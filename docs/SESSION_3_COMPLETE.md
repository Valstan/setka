# SETKA - –°–µ—Å—Å–∏—è 3: Publisher –∏ –ü–æ–ª–Ω–∞—è –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

**–î–∞—Ç–∞:** 9 –æ–∫—Ç—è–±—Ä—è 2025  
**–¶–µ–ª—å:** –°–æ–∑–¥–∞—Ç—å Publisher –º–æ–¥—É–ª—å –∏ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–æ–ª–Ω—É—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—é —Å–∏—Å—Ç–µ–º—ã

---

## üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. ‚úÖ Publisher –ú–æ–¥—É–ª—å (100%)

–°–æ–∑–¥–∞–Ω –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –º–æ–¥—É–ª—å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –Ω–∞ —Ç—Ä–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:

#### VK Publisher (`modules/publisher/vk_publisher.py`)
- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ–∫—Å—Ç–∞ –∏ —Ñ–æ—Ç–æ –≤ –≥—Ä—É–ø–ø—ã VK
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∏ –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ –¥–æ 10 —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤–∏–¥–µ–æ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è (scheduling)
- ‚úÖ –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∏—Å—Ç–æ—á–Ω–∏–∫–∞

#### Telegram Publisher (`modules/publisher/telegram_publisher.py`)
- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ –∫–∞–Ω–∞–ª—ã Telegram
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –û–¥–∏–Ω–æ—á–Ω—ã–µ —Ñ–æ—Ç–æ –∏ –º–µ–¥–∏–∞-–≥—Ä—É–ø–ø—ã (–¥–æ 10 —Ñ–æ—Ç–æ)
- ‚úÖ –ó–∞–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- ‚úÖ –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç–æ–≤
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—É–±–ª–∏—á–Ω—ã—Ö –∏ –ø—Ä–∏–≤–∞—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤

#### WordPress Publisher (`modules/publisher/wordpress_publisher.py`)
- ‚úÖ –ü—É–±–ª–∏–∫–∞—Ü–∏—è —á–µ—Ä–µ–∑ WordPress REST API
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ featured image
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏–∑ —Ç–µ–∫—Å—Ç–∞
- ‚úÖ HTML —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–æ–≤

#### Content Publisher (`modules/publisher/publisher.py`)
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π
- ‚úÖ –ü–∞–∫–µ—Ç–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω–∞–º
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –ª–æ–≥–∏–∫–∞

### 2. ‚úÖ Celery Integration (100%)

–ù–∞—Å—Ç—Ä–æ–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ —Ñ–æ–Ω–æ–≤—ã—Ö –∑–∞–¥–∞—á —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è–º–∏:

#### Celery App (`celery_app.py`)
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å Redis backend
- ‚úÖ –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏ (beat schedule)
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –∏ retry
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

#### Monitoring Tasks (`tasks/monitoring_tasks.py`)
- ‚úÖ `scan_all_communities` - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
- ‚úÖ `scan_region` - —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ä–µ–≥–∏–æ–Ω–∞
- ‚úÖ `health_check` - –∫–∞–∂–¥—É—é –º–∏–Ω—É—Ç—É
- ‚úÖ `cleanup_old_data` - –µ–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:30

#### Analysis Tasks (`tasks/analysis_tasks.py`)
- ‚úÖ `analyze_new_posts` - –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
- ‚úÖ `reanalyze_post` - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–∞
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Groq API + fallback

#### Publishing Tasks (`tasks/publishing_tasks.py`)
- ‚úÖ `publish_scheduled_posts` - –∫–∞–∂–¥—ã–π —á–∞—Å
- ‚úÖ `publish_post` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–¥–Ω–æ–≥–æ –ø–æ—Å—Ç–∞
- ‚úÖ `publish_region` - –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ —Ä–µ–≥–∏–æ–Ω—É
- ‚úÖ `check_publishers` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π

### 3. ‚úÖ Scheduler –ú–æ–¥—É–ª—å (100%)

–°–æ–∑–¥–∞–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤:

#### Content Scheduler (`modules/scheduler/scheduler.py`)
- ‚úÖ `run_full_cycle()` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: Monitor ‚Üí Analyze ‚Üí Publish
- ‚úÖ `start_continuous_mode()` - –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã
- ‚úÖ `get_pipeline_stats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ–≥–æ pipeline
- ‚úÖ `get_schedule_status()` - —Ç–µ–∫—É—â–µ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- ‚úÖ –ò–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º

### 4. ‚úÖ Workflow API (100%)

–î–æ–±–∞–≤–ª–µ–Ω—ã API endpoints –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è workflow:

```
POST /api/workflow/run-cycle       - –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
POST /api/workflow/publish          - –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –ø–æ—Å—Ç
GET  /api/workflow/status           - –°—Ç–∞—Ç—É—Å pipeline
GET  /api/workflow/publishers/status - –°—Ç–∞—Ç—É—Å –∏–∑–¥–∞—Ç–µ–ª–µ–π
GET  /api/workflow/schedule         - –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
GET  /api/workflow/stats            - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
```

### 5. ‚úÖ –°–∫—Ä–∏–ø—Ç—ã –£–ø—Ä–∞–≤–ª–µ–Ω–∏—è

#### start_celery.sh
```bash
./scripts/start_celery.sh
# –ó–∞–ø—É—Å–∫–∞–µ—Ç Celery worker –∏ beat scheduler
```

#### stop_celery.sh
```bash
./scripts/stop_celery.sh
# –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –≤—Å–µ –ø—Ä–æ—Ü–µ—Å—Å—ã Celery
```

#### test_full_workflow.py
```bash
python scripts/test_full_workflow.py
# –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –ø–æ–ª–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ü–∏–∫–ª
```

---

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### ‚úÖ –£—Å–ø–µ—à–Ω—ã–π —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

```
Duration: 55.1s

Monitoring:
   New posts found: 1

Analysis:
   Analyzed: 11
   Approved: 0
   Rejected: 3

Publishing:
   Published: 0
   
Platform Connections:
   VK: ‚úÖ OK
   Telegram: ‚úÖ OK
```

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:
1. ‚úÖ VK –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ - —Å–∫–∞–Ω–∏—Ä—É–µ—Ç —Å–æ–æ–±—â–µ—Å—Ç–≤–∞, –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –ø–æ—Å—Ç—ã
2. ‚úÖ AI –∞–Ω–∞–ª–∏–∑ - –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–æ–Ω—Ç–µ–Ω—Ç (fallback —Ä–µ–∂–∏–º —Ä–∞–±–æ—Ç–∞–µ—Ç)
3. ‚úÖ Publisher - VK –∏ Telegram –ø–æ–¥–∫–ª—é—á–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã
4. ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
5. ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞

---

## üéØ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ Workflow

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                   SETKA WORKFLOW                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  VK Monitor  ‚îÇ  ‚Üê –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ –ù–æ–≤—ã–µ –ø–æ—Å—Ç—ã
           ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ AI Analyzer  ‚îÇ  ‚Üê –ö–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ –û–¥–æ–±—Ä–µ–Ω–Ω—ã–µ –ø–æ—Å—Ç—ã
           ‚Üì
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Publisher   ‚îÇ  ‚Üê –ö–∞–∂–¥—ã–π —á–∞—Å
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
      ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
      ‚Üì         ‚Üì         ‚Üì
    [ VK ] [Telegram] [WordPress]

```

---

## üìÅ –ù–æ–≤—ã–µ –§–∞–π–ª—ã

### Publisher –ú–æ–¥—É–ª—å
```
modules/publisher/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ base_publisher.py          # –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å
‚îú‚îÄ‚îÄ vk_publisher.py            # VK –∏–∑–¥–∞—Ç–µ–ª—å
‚îú‚îÄ‚îÄ telegram_publisher.py      # Telegram –∏–∑–¥–∞—Ç–µ–ª—å
‚îú‚îÄ‚îÄ wordpress_publisher.py     # WordPress –∏–∑–¥–∞—Ç–µ–ª—å
‚îî‚îÄ‚îÄ publisher.py               # –ì–ª–∞–≤–Ω—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä
```

### Celery Tasks
```
tasks/
‚îú‚îÄ‚îÄ __init__.py
‚îú‚îÄ‚îÄ monitoring_tasks.py        # –ó–∞–¥–∞—á–∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îú‚îÄ‚îÄ analysis_tasks.py          # –ó–∞–¥–∞—á–∏ –∞–Ω–∞–ª–∏–∑–∞
‚îî‚îÄ‚îÄ publishing_tasks.py        # –ó–∞–¥–∞—á–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
```

### Scheduler
```
modules/scheduler/
‚îú‚îÄ‚îÄ __init__.py
‚îî‚îÄ‚îÄ scheduler.py               # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä workflow
```

### Scripts
```
scripts/
‚îú‚îÄ‚îÄ start_celery.sh           # –ó–∞–ø—É—Å–∫ Celery
‚îú‚îÄ‚îÄ stop_celery.sh            # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Celery
‚îî‚îÄ‚îÄ test_full_workflow.py     # –¢–µ—Å—Ç workflow
```

### API
```
web/api/
‚îî‚îÄ‚îÄ workflow.py               # Workflow API endpoints
```

### Config
```
celery_app.py                 # Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
```

---

## üöÄ –ö–∞–∫ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –ó–∞–ø—É—Å–∫ –ü–æ–ª–Ω–æ–π –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å FastAPI —Å–µ—Ä–≤–µ—Ä
uvicorn main:app --host 0.0.0.0 --port 8000

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Celery (–≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ)
./scripts/start_celery.sh

# –¢–µ–ø–µ—Ä—å —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
# - –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç: —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ VK
# - –ö–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã: –∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤
# - –ö–∞–∂–¥—ã–π —á–∞—Å: –ø—É–±–ª–∏–∫–∞—Ü–∏—è
```

### 2. –†—É—á–Ω–æ–π –ó–∞–ø—É—Å–∫ –¶–∏–∫–ª–∞

```bash
# –ß–µ—Ä–µ–∑ API
curl -X POST http://localhost:8000/api/workflow/run-cycle \
  -H "Content-Type: application/json" \
  -d '{}'

# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
python scripts/test_full_workflow.py
```

### 3. –ü—É–±–ª–∏–∫–∞—Ü–∏—è –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ü–æ—Å—Ç–∞

```bash
curl -X POST http://localhost:8000/api/workflow/publish \
  -H "Content-Type: application/json" \
  -d '{
    "post_id": 1,
    "platforms": ["vk", "telegram"],
    "region_code": "mi"
  }'
```

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –°—Ç–∞—Ç—É—Å–∞

```bash
# –°—Ç–∞—Ç—É—Å pipeline
curl http://localhost:8000/api/workflow/status

# –°—Ç–∞—Ç—É—Å –∏–∑–¥–∞—Ç–µ–ª–µ–π
curl http://localhost:8000/api/workflow/publishers/status

# –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
curl http://localhost:8000/api/workflow/stats
```

---

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### Celery Schedule (celery_app.py)

–ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —á–∞—Å—Ç–æ—Ç—É –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–¥–∞—á:

```python
app.conf.beat_schedule = {
    'monitor-vk-communities': {
        'task': 'tasks.monitoring_tasks.scan_all_communities',
        'schedule': 300.0,  # –ò–∑–º–µ–Ω–∏—Ç—å –∑–¥–µ—Å—å (—Å–µ–∫—É–Ω–¥—ã)
    },
    # ... –¥—Ä—É–≥–∏–µ –∑–∞–¥–∞—á–∏
}
```

### Publisher Settings

–í `config/config_secure.py`:
- `VK_TOKENS` - —Ç–æ–∫–µ–Ω—ã VK API
- `TELEGRAM_TOKENS` - —Ç–æ–∫–µ–Ω—ã Telegram Bot
- `GROQ_API_KEY` - –∫–ª—é—á Groq AI

---

## üêõ –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

### 1. Groq API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç 404
**–°—Ç–∞—Ç—É—Å:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fallback –Ω–∞ keyword-based –∞–Ω–∞–ª–∏–∑  
**TODO:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å endpoint Groq API

### 2. –û–¥–∏–Ω VK —Ç–æ–∫–µ–Ω —Ç—Ä–µ–±—É–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
**–°—Ç–∞—Ç—É—Å:** –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ  
**–†–µ—à–µ–Ω–∏–µ:** –†–∞–±–æ—Ç–∞–µ—Ç —Å –¥—Ä—É–≥–∏–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏  
**TODO:** –û–±–Ω–æ–≤–∏—Ç—å —Ç–æ–∫–µ–Ω "ELIS"

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –°–µ—Å—Å–∏–∏

- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:** ~2 —á–∞—Å–∞
- **–§–∞–π–ª–æ–≤ —Å–æ–∑–¥–∞–Ω–æ:** 15
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~2500+
- **–ú–æ–¥—É–ª–µ–π:** 4 (Publisher, Celery, Scheduler, API)
- **–¢–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ:** 1 (Full workflow)

---

## üéØ –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

### –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚è≥ –ò—Å–ø—Ä–∞–≤–∏—Ç—å Groq API integration (404 error)
2. ‚è≥ –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ —Å–æ–æ–±—â–µ—Å—Ç–≤ VK –≤ –ë–î
3. ‚è≥ –ù–∞—Å—Ç—Ä–æ–∏—Ç—å WordPress –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é
4. ‚è≥ –°–æ–∑–¥–∞—Ç—å Web UI –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –°—Ä–µ–¥–Ω–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚è≥ Telegram Bot –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
2. ‚è≥ –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
3. ‚è≥ A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
4. ‚è≥ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ö–µ—à—Ç–µ–≥–æ–≤

### –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç:
1. ‚è≥ –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ 50 —Ä–∞–π–æ–Ω–æ–≤
2. ‚è≥ Instagram/TikTok –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
3. ‚è≥ –í–∏–¥–µ–æ-–∫–æ–Ω—Ç–µ–Ω—Ç –∏ –∞–≤—Ç–æ–º–æ–Ω—Ç–∞–∂
4. ‚è≥ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ç–µ–ª—å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞

---

## üí° –ö–ª—é—á–µ–≤—ã–µ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è

1. **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** - —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–∞
2. **–ú—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å** - VK, Telegram, WordPress
3. **–ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å** - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ä–µ–≥–∏–æ–Ω—ã
4. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã, retry –ª–æ–≥–∏–∫–∞
5. **–ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å** - –∫–∞–∂–¥—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–µ–∑–∞–≤–∏—Å–∏–º
6. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - health checks –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–∞:** 85%  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–æ–≤–æ–º—É –∑–∞–ø—É—Å–∫—É –Ω–∞ 1-2 —Ä–∞–π–æ–Ω–∞—Ö

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 9 –æ–∫—Ç—è–±—Ä—è 2025, 16:10

