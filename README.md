# üåê SETKA - –°–∏—Å—Ç–µ–º–∞ –º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç–∞ –º—É–ª—å—Ç–∏–º–µ–¥–∏–∞ –¥–ª—è –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

**–í–µ—Ä—Å–∏—è:** 1.0.0-beta  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ Production-ready (90% –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏)  
**–î–æ–º–µ–Ω:** http://3931b3fe50ab.vps.myjino.ru

---

## üöÄ –î–õ–Ø AI –ê–°–°–ò–°–¢–ï–ù–¢–ê: –ù–ê–ß–ù–ò –ó–î–ï–°–¨!

**–ï—Å–ª–∏ —Ç—ã AI –ø–æ–º–æ—â–Ω–∏–∫ –≤ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏, –ø—Ä–æ—á–∏—Ç–∞–π —ç—Ç–æ—Ç —Ñ–∞–π–ª:**

üëâ **`AI_CONTEXT.md`** üëà

–¢–∞–º –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞, –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –∏ —á—Ç–æ –¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ!

---

---

## üìã –û–ø–∏—Å–∞–Ω–∏–µ

SETKA - –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤–æ—Å—Ç–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏–∑ —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–µ—Ç–µ–π (VK, Telegram, WordPress) —Å AI-–∞–Ω–∞–ª–∏–∑–æ–º –¥–ª—è 50 —Ä–µ–≥–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤.

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- ü§ñ **AI-–∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** (Groq API + keyword fallback)
- üì° **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ 1000+ —Å–æ–æ–±—â–µ—Å—Ç–≤ VK**
- üì§ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è** –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞** –ø–æ—Å—Ç–æ–≤
- üîî **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –æ–± –æ—à–∏–±–∫–∞—Ö
- üîí **SSL/HTTPS** –∑–∞—â–∏—Ç–∞
- üíæ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã**

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### Backend:
- **Python 3.12** + **FastAPI**
- **PostgreSQL 17.6** (–æ—Å–Ω–æ–≤–Ω–∞—è –ë–î)
- **Redis 7.4.1** (–∫–µ—à + –æ—á–µ—Ä–µ–¥–∏)
- **Celery** (—Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏)

### –ú–æ–¥—É–ª–∏:
```
modules/
‚îú‚îÄ‚îÄ vk_monitor/      ‚úÖ –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ VK —Å–æ–æ–±—â–µ—Å—Ç–≤
‚îú‚îÄ‚îÄ ai_analyzer/     ‚úÖ AI –∞–Ω–∞–ª–∏–∑ –ø–æ—Å—Ç–æ–≤ (Groq API)
‚îú‚îÄ‚îÄ monitoring/      ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ + Telegram
‚îú‚îÄ‚îÄ publisher/       ‚è≥ –ü—É–±–ª–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚îú‚îÄ‚îÄ telegram_bot/    ‚è≥ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îî‚îÄ‚îÄ scheduler/       ‚è≥ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
```

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
- **regions** - —Ä–µ–≥–∏–æ–Ω—ã/—Ä–∞–π–æ–Ω—ã (14)
- **communities** - —Å–æ–æ–±—â–µ—Å—Ç–≤–∞ VK (2+)
- **posts** - –ø–æ—Å—Ç—ã –∏–∑ VK (10+)
- **filters** - —Ñ–∏–ª—å—Ç—Ä—ã –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (11)
- **vk_tokens** - —Ç–æ–∫–µ–Ω—ã VK (3)
- **publish_schedules** - —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ê–∫—Ç–∏–≤–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```bash
cd /home/valstan/SETKA
source venv/bin/activate
```

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
```bash
# Development mode
python main.py

# Production mode
uvicorn main:app --host 0.0.0.0 --port 8000
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –º–æ–¥—É–ª–µ–π:
```bash
# VK Monitor
python scripts/test_vk_monitor.py

# Health Check
python scripts/test_monitoring.py

# AI Analyzer
python scripts/test_ai_analyzer.py  # (—Å–æ–∑–¥–∞—Ç—å)
```

---

## üì° API Endpoints

**Base URL:** `https://3931b3fe50ab.vps.myjino.ru`

### Health:
- `GET /api/health/` - Quick health check
- `GET /api/health/full` - Full system health check

### Regions:
- `GET /api/regions/` - List all regions
- `GET /api/regions/{code}` - Get region by code

### Communities:
- `GET /api/communities/` - List communities
- `GET /api/communities/{id}` - Get community by ID

### Posts:
- `GET /api/posts/` - List posts
- `GET /api/posts/{id}` - Get post by ID

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://3931b3fe50ab.vps.myjino.ru/docs

---

## üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
```bash
Database: setka
User: setka_user (see config/config_secure.py for credentials)
Host: localhost:5432
```

### VK Tokens:
–•—Ä–∞–Ω—è—Ç—Å—è –≤ `config/config_secure.py` –∏ –≤ —Ç–∞–±–ª–∏—Ü–µ `vk_tokens`

### Telegram Bots:
–•—Ä–∞–Ω—è—Ç—Å—è –≤ `config/config_secure.py`:
- **VALSTANBOT** - –æ—Å–Ω–æ–≤–Ω–æ–π –±–æ—Ç
- **AFONYA** - –±–æ—Ç –¥–ª—è –∫–∞–Ω–∞–ª–∞ –ú–∞–ª–º—ã–∂ –ò–Ω—Ñ–æ

---

## üóÇÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
SETKA/
‚îú‚îÄ‚îÄ main.py              # FastAPI –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ config/              # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (—Ç–æ–∫–µ–Ω—ã)
‚îú‚îÄ‚îÄ database/            # –ë–î –º–æ–¥–µ–ª–∏ –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îú‚îÄ‚îÄ modules/             # –ú–æ–¥—É–ª–∏ —Å–∏—Å—Ç–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ vk_monitor/      # –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ VK
‚îÇ   ‚îú‚îÄ‚îÄ ai_analyzer/     # AI –∞–Ω–∞–ª–∏–∑
‚îÇ   ‚îú‚îÄ‚îÄ monitoring/      # –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îú‚îÄ‚îÄ web/                 # Web API
‚îÇ   ‚îî‚îÄ‚îÄ api/             # API endpoints
‚îú‚îÄ‚îÄ scripts/             # –£—Ç–∏–ª–∏—Ç—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ backup/              # –ë—ç–∫–∞–ø—ã –ë–î
‚îú‚îÄ‚îÄ logs/                # –õ–æ–≥–∏
‚îî‚îÄ‚îÄ venv/                # Python –æ–∫—Ä—É–∂–µ–Ω–∏–µ
```

---

## üìä –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ:**
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏ –ë–î
- ‚úÖ VK –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –º–æ–¥—É–ª—å
- ‚úÖ AI –∞–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä (Groq API)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã
- ‚úÖ SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç
- ‚úÖ FastAPI backend

**–ó–∞–≤–µ—Ä—à–µ–Ω–æ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ:**
- ‚úÖ Publisher –º–æ–¥—É–ª—å (–ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ VK/Telegram/WordPress)
- ‚úÖ –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á (Smart Scheduler)
- ‚úÖ Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (Bootstrap 5)
- ‚úÖ –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤—Å–µ—Ö –º–æ–¥—É–ª–µ–π
- ‚úÖ Celery –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ü—Ä–æ–≥—Ä–µ—Å—Å:** ~95% (production-ready)

---

## üíæ –ë—ç–∫–∞–ø—ã

**–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø:** –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –≤ 3:00 AM  
**–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** `/home/valstan/SETKA/backup/`  
**–•—Ä–∞–Ω–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ–¥–Ω–∏–µ 7 –±—ç–∫–∞–ø–æ–≤

–†—É—á–Ω–æ–π –±—ç–∫–∞–ø:
```bash
/home/valstan/SETKA/scripts/backup_database.sh
```

---

## üîî –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

**Health checks:** –ö–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç  
**Telegram –∞–ª–µ—Ä—Ç—ã:** –ü—Ä–∏ –æ—à–∏–±–∫–∞—Ö –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è—Ö  
**–õ–æ–≥–∏:** `/home/valstan/SETKA/logs/`

---

## üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –î–ª—è AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤:
- **`AI_CONTEXT.md`** ‚≠ê - –ü–æ–ª–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø—Ä–æ–µ–∫—Ç–∞ –¥–ª—è AI (–Ω–∞—á–Ω–∏ –æ—Ç—Å—é–¥–∞!)
- **`docs/QUICK_START_FOR_AI.md`** - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- **`WORK_HOURS_CONFIG.md`** - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞–±–æ—á–∏—Ö —á–∞—Å–æ–≤
- **`REFACTORING_2025_01_REPORT.md`** - –ü–æ—Å–ª–µ–¥–Ω–∏–π –æ—Ç—á—ë—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ
- **`docs/VK_NOTIFICATIONS_SYSTEM.md`** - –°–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π VK
- **`docs/TOKEN_MANAGEMENT_SYSTEM.md`** - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞–º–∏
- **`docs/PROMETHEUS_GRAFANA_SETUP.md`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- **`docs/VK_API_OPTIMIZATION.md`** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è VK API
- **`docs/PERFORMANCE_OPTIMIZATION.md`** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **`docs/COMMUNITY_URL_PARSER.md`** - –ü–∞—Ä—Å–µ—Ä URL —Å–æ–æ–±—â–µ—Å—Ç–≤
- **`docs/TELEGRAM_SETUP.md`** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram

---

## üõ†Ô∏è –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –ë–î
sudo -u postgres psql -d setka -c "\dt"

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ä–µ–≥–∏–æ–Ω—ã
sudo -u postgres psql -d setka -c "SELECT code, name FROM regions;"

# –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø–æ—Å—Ç—ã
sudo -u postgres psql -d setka -c "SELECT COUNT(*) FROM posts;"

# –õ–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
tail -f logs/app.log
tail -f logs/uvicorn.log

# –ë—ç–∫–∞–ø
scripts/backup_database.sh
```

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞:** ~200 MB  
**Python —Ñ–∞–π–ª–æ–≤:** 100+  
**API endpoints:** 20+  
**–†–µ–≥–∏–æ–Ω–æ–≤ –≤ –ë–î:** 14  
**–ü–æ—Å—Ç–æ–≤ —Å–æ–±—Ä–∞–Ω–æ:** 1000+  
**–°–æ–æ–±—â–µ—Å—Ç–≤ VK:** 100+  

---

## üîó –°—Å—ã–ª–∫–∏

- **API Docs:** https://3931b3fe50ab.vps.myjino.ru/docs
- **–°—Ç–∞—Ä—ã–π –ø—Ä–æ–µ–∫—Ç:** https://github.com/Valstan/postopus
- **Groq Console:** https://console.groq.com

---

**–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞:** Valstan  
**–ù–∞—á–∞–ª–æ:** 8 –æ–∫—Ç—è–±—Ä—è 2025

